<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · PhaseRetrieval.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://olejorik.github.io/PhaseRetrieval.jl/stable/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>PhaseRetrieval.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#About-the-package"><span>About the package</span></a></li><li><a class="tocitem" href="#Basic-usage"><span>Basic usage</span></a></li><li><a class="tocitem" href="#Types-and-Functions"><span>Types and Functions</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/main/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="PhaseRetrieval.jl-Documentation"><a class="docs-heading-anchor" href="#PhaseRetrieval.jl-Documentation">PhaseRetrieval.jl Documentation</a><a id="PhaseRetrieval.jl-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#PhaseRetrieval.jl-Documentation" title="Permalink"></a></h1><ul><li><a href="#PhaseRetrieval.jl-Documentation">PhaseRetrieval.jl Documentation</a></li><li class="no-marker"><ul><li><a href="#About-the-package">About the package</a></li><li><a href="#Basic-usage">Basic usage</a></li><li><a href="#Types-and-Functions">Types and Functions</a></li><li><a href="#Index">Index</a></li></ul></li></ul><h2 id="About-the-package"><a class="docs-heading-anchor" href="#About-the-package">About the package</a><a id="About-the-package-1"></a><a class="docs-heading-anchor-permalink" href="#About-the-package" title="Permalink"></a></h2><p>This package is devoted to the forward and inverse problems of Phase Retrieval (PR).</p><h2 id="Basic-usage"><a class="docs-heading-anchor" href="#Basic-usage">Basic usage</a><a id="Basic-usage-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-usage" title="Permalink"></a></h2><h3 id="Forward-model"><a class="docs-heading-anchor" href="#Forward-model">Forward model</a><a id="Forward-model-1"></a><a class="docs-heading-anchor-permalink" href="#Forward-model" title="Permalink"></a></h3><p>Let&#39;s set up a simulation environment matching the following hardware set up: a beam with a footprint of 10 mm diameter is focused with a lens of 300 mm focal length and the PSF is registered with UI-1540 camera, which we combine in one structure called <a href="#PhaseRetrieval.ImagingSensor"><code>ImagingSensor</code></a></p><pre><code class="language-julia hljs">using PhaseRetrieval
lens = PhaseRetrieval.ImagingLens(300mm, 25mm)
cam = PhaseRetrieval.CameraChip(pixelsize = 5.2um, imagesize = (1280, 1024), bitdepth = 8, channelbitdepth = 8)
ims = PhaseRetrieval.ImagingSensor(lens = lens, cam = cam)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">ImagingSensor(PhaseRetrieval.ImagingLens(0.3, 0.025), PhaseRetrieval.CameraChip(5.2e-6, (1280, 1024), 8, 8), 0.3, [0.0, 0.0], 0.0, 0.0, 0.0)</code></pre><p>Now we can save all these definitions in a simulation config</p><pre><code class="language-julia hljs">conf1 = SimConfig(&quot;full_aperture&quot;, ims, 633nm)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SimConfig(&quot;full_aperture&quot;, ImagingSensor(PhaseRetrieval.ImagingLens(0.3, 0.025), PhaseRetrieval.CameraChip(5.2e-6, (1280, 1024), 8, 8), 0.3, [0.0, 0.0], 0.0, 0.0, 0.0), 0.3, 6.33e-7, 0.025, 1, SampledDomains.CartesianDomain2D(-0.0033254:5.2e-6:0.0033254, -0.0026598:5.2e-6:0.0026598), SampledDomains.CartesianDomain2D(-0.01825961538461538:2.853064903846154e-5:0.018231084735576924, -0.018259615384615385:3.566331129807692e-5:0.01822395207331731), [0.0 0.0 … 0.0 0.0; 0.0 0.0 … 0.0 0.0; … ; 0.0 0.0 … 0.0 0.0; 0.0 0.0 … 0.0 0.0], [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN NaN … NaN NaN])</code></pre><p>This creates aperture array of correct dimensions which is suitable for generation of a PSF using Fourier methods. If we check near the central pixel, we&#39;ll see that for this configuration the PSF is almost one pixel wide</p><pre><code class="language-julia hljs">p = psf(conf1.ap)
heatmap(rotr90(p[503:523,631:651]), axis = (aspect = DataAspect(), ))</code></pre><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAIAAAAVFBUnAAAABmJLR0QA/wD/AP+gvaeTAAAZ5klEQVR4nO3dYWjV573A8f85iWi0ydU6SRQMxjqvtqM1Ze0qt5ph4LJCUPKmCNIWsbW2dMVrZwsDIULri1G8m6I4NrUDi4X7RiNdZ4kInWaVK1baotWc3Ma1w2xLjJoZqzfJuS/CzY3u7t5t/Z3z15zP512ec3z6Ozl56rf/c06TyefzCQAAcbJpDwAAMN4ILACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYOVpD8Bf68c//vHp06fnzJmT9iAAjBNdXV2LFi1av3592oOMQwLrrnH69OnWX/xyWjIj7UEAGCf6kj+mPcK4JbDuGnPmzJmWzJibuT/tQQAYJ/4jf8YLIwXiPVgAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQLDytAcYz4aGhj755JMvvvhizpw5DzzwQDZ7S852dnZ2dHTU19dXV1enNSEAUAiuYBXK559//sgjj9TX1z/99NMPPvjg4sWLu7q6Rm66cePGihUr5s2b19zcXFNTs2nTplQnBQCCCaxCefHFFy9fvpzL5fr6+s6cOdPT0/PUU0+N3LR58+ajR4+2t7dfu3Ztz549b7zxxsGDB9OdFgAIJLAK4vr16++///7GjRvvu+++JEkWLly4adOmY8eO9fb2Dg0NvfXWW88///zixYuz2ezq1auXLl26Z8+etEcGAMIIrIK4evXqc88919jYOLpy7dq1JEkGBwcvXLhw8eLFsTc1Nja2t7enMCUAUBgCqyCqq6t37do1f/78kS+//PLLbdu2Pf7449XV1d3d3SN3GL1zTU1Nb2/v4OBgOrMCANF8irDg3nnnnQ0bNlRUVOzbty9JksuXLydJUllZOXqHysrKfD7f19c3Y8aM0cXt27dv27Zt7D7f/OY3izUyAPC1CKwC6uzsXLNmzYcffvjSSy+1tLTcc889SZJMnz49SZL+/v7Ru125ciWTyUydOnXsn121atX3vve9sSs///nPz713oSiDAwBfi8AqlI8++ui73/3u4sWLz549W1dXN7peU1OTJMnIC4Ujuru7Z8yYMWHChLF//N5777333nvHrlRUVBR4ZAAghvdgFcTw8PCTTz7Z2Nj43nvvja2rJElqa2vr6ura2tpGV9ra2pYuXVr0GQGAQnEFqyCOHTuWy+WWL1++e/fuseurVq2qqKhYu3bt66+/3tzc/Nhjj+3du/f48eNjewsAuNsJrIL47LPPkiTZunXrbetNTU0VFRWvvvpqV1dXQ0NDWVlZNpvdsWPHsmXL0hgTACgILxEWxNq1a/P/m5E3YGWz2V27dvX19Z04ceLKlSsvvPBC2vMCAJFcwUpNVVVVfX192lMAAPFcwQIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYOVpDwDceTKZ0O3yd+xmSewDjd0uH/tQgaJyBQsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIFh52gNACcuE7pYP3CpwryTJhD7O2N0iv2vR37dAd/D3DMYrV7AAAIIJLACAYAILACCYwAIACCawAACC+RRhwZ0/f35gYGDRokWjKzdv3rx06dLY+0yePLmqqqroowEABeEKVsFt3Lhx3759Y1cOHDgw81YbNmxIazwAIJwrWIUyMDBw+vTp/fv3t7a2vvLKK2NvyuVys2fP3rlz5+hKbW1t0QcEAApFYBVKa2vrSy+9lCRJNnv7ZcJcLvfQQw81NTWlMRcAUHBeIiyUlStX9vT09PT01NXV3XZTR0fH/PnzDx8+vH379nfffff69eupTAgAFIgrWCnI5XKnTp3avXv3rFmzcrlcbW3toUOHFi5cOPY+N2/evHnz5tiVoaGh4o4JAPydXMEqtq+++mrq1KnPPvtsb2/vmTNnzp07Nzw8vGbNmtvu9uabb9bcqr29PZWBAYC/lcAqtkmTJp09e/YnP/lJWVlZkiR1dXWvvfbab37zm76+vrF3++EPf/inWy1ZsiSlkQGAv43ASt/Im7R6enrSHgQAiCGwiq2trW3mzJknT54cXfn4448nTZo0d+7cFKcCAAIJrGJbsmRJeXn5unXrPvjgg/7+/tbW1i1btqxfv37kFUMAYBwQWMU2ceLE1tbWgYGBhoaGqqqq5ubmZ555pqWlJe25AIAw/jcNBZfL5W5bqa+v//TTT3O5XH9//4IFC6ZMmZLKYABAgQisdGSz2fnz56c9BQBQEF4iBAAIJrAAAIIJLACAYAILACCYwAIACOZThJCefOhumUzodnHyoY8z9lEGz1YaTwHwV3AFCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgWHnaA8BdJZOJ3C2fj9wtTiYb+Z9emWxZ4G75oaHA3TLlobMNR86WHx4O3C1SaZwC+JpcwQIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACFae9gBwd8lHbpbJRO6WD5stky2L2ipJksw9UwJ3u/rP/xi42z+8fy5wt+RP1wI3yw8Nhe0V+5MWewpgnHIFCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwAIACCawAACCCSwAgGACCwAgWHnaA8BdJR+6WyYTulvYTvmhobC9kuTqP/9j4G7H//Wngbv90788H7hb5b/9e+BuoT8eoT9p+dhjAOOTK1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEK097ALirZGK3y4duFrZbprwsaqskSf7h/XOBu/3TvzwfuFvsbPmyyO9b/j+HwvaK/bmN3S30EMCdwxUsAIBgAgsAIJjAAgAIJrAAAIIJLACAYAILACCYwCq48+fPnz59+s/XOzs7f/WrX/3+978v/kgAQEEJrILbuHHjvn37xq7cuHFjxYoV8+bNa25urqmp2bRpU1qzAQCFILAKZWBgoL29/fvf/35ra+ttN23evPno0aPt7e3Xrl3bs2fPG2+8cfDgwVSGBAAKQWAVSmtr6/Lly/fv35/N3vJNHhoaeuutt55//vnFixdns9nVq1cvXbp0z549ac0JAIQTWIWycuXKnp6enp6eurq6sesXLly4ePFiY2Pj6EpjY2N7e3vRBwQACsXvIiy27u7uJEmqq6tHV2pqanp7ewcHB8vL/+fp+O1vf3vhwoWxf/DKlStFGxIA+DoEVrFdvnw5SZLKysrRlcrKynw+39fXN2PGjNHFI0eO3Pa64fTp04s2JADwdQisYhvppP7+/tGVK1euZDKZqVOnjr3b6tWrV69ePXalpaXlk4MdxRkSAPg6vAer2GpqapL/fqFwRHd394wZMyZMmJDeUABAJIFVbLW1tXV1dW1tbaMrbW1tS5cuTXEkACCWwCq2TCazdu3an/70p8eOHRscHPzZz352/PjxF154Ie25AIAw3oOVgldffbWrq6uhoaGsrCybze7YsWPZsmVpDwUAhBFYBZfL5W5byWazu3bt+tGPftTZ2Xn//fdPnDgxlcEAgAIRWKmpqqqqr69PewoAIJ73YAEABBNYAADBBBYAQDCBBQAQTGABAATzKUL4m2QiN8vnI3fLhM2WHx6K2ipJkuRP1wI3q/y3fw/cLV9WFrlb7Pct7gm9Y3/SkiRJktDZ4I7hChYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQLDytAeAu0o+n/YExZAfHo7cbWgocLckkwncLP+fd+5sd67SOAXwNbmCBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQrDztAaCEZUJ3y+dDt4uTiX2cobuVylMQutud+ijhjuIKFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMHK0x4ASlg+7QH+kkwmdLvQx5kP3S32gcZ+3wIf6R37kwbjlytYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBytMeALjz5PNpT1AswQ+0ZL5vwP/HFSwAgGACCwAgmMACAAgmsAAAggksAIBgAgsAIJj/TUMKbt68eenSpbErkydPrqqqSmseACCWK1gpOHDgwMxbbdiwIe2hAIAwrmClIJfLzZ49e+fOnaMrtbW1Kc4DAMQSWCnI5XIPPfRQU1NT2oMAAAUhsFLQ0dHx6KOPHj58+Pz583Pnzl22bFlFRUXaQwEAYQRWCnK53KlTp3bv3j1r1qxcLldbW3vo0KGFCxeOvc+JEydOnDgxduV3v/tdcccEAP5O3uRebF999dXUqVOfffbZ3t7eM2fOnDt3bnh4eM2aNbfd7dKlS7lbXb9+PZWBAYC/lStYxTZp0qSzZ8+OfllXV/faa6+tW7eur69v2rRpo+tPPPHEE088MfYPtrS0/Cb5qHiDAgB/L1ew0ldXV5ckSU9PT9qDAAAxBFaxtbW1zZw58+TJk6MrH3/88aRJk+bOnZviVABAIIFVbEuWLCkvL1+3bt0HH3zQ39/f2tq6ZcuW9evXl5WVpT0aABBDYBXbxIkTW1tbBwYGGhoaqqqqmpubn3nmmZaWlrTnAgDCeJN7Curr6z/99NNcLtff379gwYIpU6akPREAEElgpSObzc6fPz/tKQCAgvASIQBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEK097AP5aXV1dfckf/yN/Ju1BABgn+pI/dnV1pT3F+CSw7hqLFi1KkmTOnDlpDzIO/eEPf+jt7V24cGHag5Su3t7eixcvfutb30p7kNJ1+fLlCxcuPPTQQ2kPUrr6+/s7OjoefvjhYv5Du7q6Rv5yIVwmn8+nPQOk7O233/7lL3/59ttvpz1I6Tp48OCePXsOHjyY9iCl68iRI1u2bDly5Ejag5SuEydOvPzyyydOnEh7EGJ4DxYAQDCBBQAQTGABAAQTWAAAwcpaWlrSngFSlslkqqurfYowRZlM5hvf+IZPEaYok8lMmzbNpwhTlMlkqqqqivwpQgrHpwgBAIJ5iRAAIJjAAgAIJrAAAIIJLACAYH4XISXt5s2bly5dGrsyefLkqqqqtOYpKefPnx8YGPjz34PW2dnZ0dFRX19fXV2dymCl48+fAieiaIaGhj755JMvvvhizpw5DzzwQDZ7y/UOp2AccAWLknbgwIGZt9qwYUPaQ5WKjRs37tu3b+zKjRs3VqxYMW/evObm5pqamk2bNqU1W4n486fAiSiOzz///JFHHqmvr3/66acffPDBxYsXd3V1jdzkFIwbrmBR0nK53OzZs3fu3Dm6Ultbm+I8pWBgYOD06dP79+9vbW195ZVXxt60efPmo0ePtre3f+c73/nFL36xZs2ab3/72ytWrEhr1PHq/3gKnIjiePHFFy9fvpzL5e67776zZ882NTU99dRTv/71rxOnYDzJQwlbvXp1U1NT2lOUlv3790+fPn369OnZbPaVV14ZXR8cHJw5c+YPfvCD0ZWGhobly5enMeM495eegrwTURQDAwPZbHbnzp2jK3v37k2SpKenxykYT7xESEnr6OiYP3/+4cOHt2/f/u67716/fj3tica/lStX9vT09PT01NXVjV2/cOHCxYsXGxsbR1caGxvb29uLPuD495eegsSJKIqrV68+99xzY3/Ur127liTJ4OCgUzCeeImQkpbL5U6dOrV79+5Zs2blcrna2tpDhw75nTmp6O7uTpJk7Ft6a2pqent7BwcHy8v9m6pInIgiqK6u3rVr1+iXX3755bZt2x5//PHq6uqRlnIKxgdXsChdX3311dSpU5999tne3t4zZ86cO3dueHh4zZo1ac9Voi5fvpwkSWVl5ehKZWVlPp/v6+tLb6jS4kQU3zvvvPPoo48ODg6OfNrAKRhPFDGla9KkSWfPnh39sq6u7rXXXlu3bl1fX9+0adNSHKw0TZ8+PUmS/v7+0ZUrV65kMpmpU6emN1RpcSKKqbOzc82aNR9++OFLL73U0tJyzz33JE7B+OIKFvyPkbek9PT0pD1IKaqpqUn++4XCEd3d3TNmzJgwYUJ6Q5U6J6JAPvroo4cffnikaN98882RukqcgvFFYFG62traZs6cefLkydGVjz/+eNKkSXPnzk1xqpJVW1tbV1fX1tY2utLW1rZ06dIURyo1TkRxDA8PP/nkk42Nje+9995tnzNwCsYTLxFSupYsWVJeXr5u3bqtW7fW19cfPXp0y5Yt69evLysrS3u0UpTJZNauXfv66683Nzc/9thje/fuPX78+Ni/aSg0J6I4jh07lsvlli9fvnv37rHrq1atqqiocArGDYFF6Zo4cWJra+uqVasaGhqSJMlmsy+//HJLS0vac5WuV199taurq6GhoaysLJvN7tixY9myZWkPVUKciOL47LPPkiTZunXrbetNTU0VFRVOwbiRyefzac8AaRoeHs7lcv39/QsWLJgyZUra45BcvXq1s7Pz/vvvnzhxYtqzlCIn4k7gFIwDAgsAIJg3uQMABBNYAADBBBYAQDCBBQAQTGABAAQTWAAAwQQWAEAwgQUAEExgAQAEE1gAAMEEFgBAMIEFABBMYAEABBNYAADBBBYAQDCBBQAQTGABAAT7L3Yt8uyUyo/MAAAAAElFTkSuQmCC" /><p>Indeed, the Airy pattern should be about 9 microns wide</p><pre><code class="language-julia hljs">print(&quot;Airy size is 1.22λ/NA = &quot;,  1.22*632nm *300mm/25mm /um, &quot; μm&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Airy size is 1.22λ/NA = 9.25248 μm</code></pre><p>We might thus want to consider a smaller numerical aperture:</p><pre><code class="language-julia hljs">lens2= PhaseRetrieval.diaphragm(lens, 10mm)
ims2 = PhaseRetrieval.ImagingSensor(lens = lens2, cam = cam)
conf2 = SimConfig(&quot;10mm aperture&quot;, ims2, 633nm)
p2 = psf(conf2.ap)
heatmap(rotr90(p2[503:523,631:651]), axis = (aspect = DataAspect(), ))</code></pre><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAIAAAAVFBUnAAAABmJLR0QA/wD/AP+gvaeTAAAdhElEQVR4nO3df2xXhb3/8XM+rQF0NChDiosNRUdEF7Vmc5IoLPLPXUI0/GNMzDQEZcw44xenJktMMJn+sSxm02hcNtAlGvff1Zr9cKkx2ZBJYpCrBlQ+zLK5wFhLgY6qrP18vn+w9VZ3d3PdXp+e0s/jkewPD+W9d3vO+fDsaQtls9ksAADIqVW9AADAbCOwAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIKyz6gX4v/r+97+/e/fupUuXVr0IALPE4ODg5Zdfftddd1W9yCwksE4bu3fv7v/Jz88uF1W9SOs1q15g2pRVLzBN2uX9bJdrtz3ey6Joiyt3pPnnqleYtQTWaWPp0qVnl4uWlRfnRmZfPNrnRTenbIPX76Joiz+m/qZN7oI2eTezV+4Mfb39XbHHF0ZaxPdgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIKyz6gX4tMrcqGZuVHhYUhn8iKVld0ueguzpnLEXxwyXuzxm8E0Q1pypL2tl9i5onzN6GvMECwAgTGABAIQJLACAMIEFABAmsAAAwvwUYQtNTEy8+eabf/jDH5YuXXrJJZfUah/L2f379+/bt6+vr2/x4sVVbQgAtIInWK3y3nvvfelLX+rr67v55psvvfTSlStXDg4Onvqljz766Prrr7/wwgvXrVvX3d19//33V7opABAmsFrl9ttvP3r0aL1eHxkZ2bNnz9DQ0Ne+9rVTv/TAAw+8/PLLO3bsOHHixLZt2x588MHnn3++2m0BgCCB1RIffPDBr371q3vuueeCCy4oimLFihX333//9u3bh4eHJyYmnnrqqa9//esrV66s1Wrr169ftWrVtm3bql4ZAIgRWC1x/Pjx2267bc2aNZNHTpw4URTF+Pj4gQMHDh48OPWX1qxZs2PHjgq2BABaQ2C1xOLFi5944only5ef+s/333//kUceufrqqxcvXnzo0KFTbzD5xt3d3cPDw+Pj49XsCgCk+SnClvvpT3+6efPmefPmPf3000VRHD16tCiK+fPnT77B/Pnzm83myMjIokWLJg8++uijjzzyyNQ5n//856drZQDg3yKwWmj//v0bNmx49dVX77jjji1btnzmM58pimLhwoVFUYyOjk6+2bFjx8qyXLBgwdTfe9NNN/3Hf/zH1CM//vGP3/nlgWlZHAD4twisVnn99de/8pWvrFy5cu/evb29vZPHu7u7i6I49YXCUw4dOrRo0aIzzjhj6m8/55xzzjnnnKlH5s2b1+KVAYAM34PVEo1G44YbblizZs0vfvGLqXVVFEVPT09vb+/AwMDkkYGBgVWrVk37jgBAq3iC1RLbt2+v1+vXXXfd1q1bpx6/6aab5s2bt3Hjxu985zvr1q276qqrnnzyyVdeeWVqbwEApzuB1RJvv/12URQPP/zwJ46vXbt23rx599577+Dg4OrVqzs6Omq12mOPPXbttddWsSYA0BK+RNgSGzdubP5PTn0DVq1We+KJJ0ZGRnbu3Hns2LFvfOMbVe8LACR5glWZrq6uvr6+qrcAAPI8wQIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQ5q9pOO00Z+CksLLMjotOi37UmjN4GtULntDsXZAV3S18u8/U19vSzX4a8AQLACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYZ1VL8Cn0ax6gf9FWc7EUUVRNLMftei07Gq5j1uZPQXZaTNZ9GJrBqdl74KZfD5n7MWWPQXBYTP5j5XTnCdYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhnVUvQHXKMjsuNqnZjI2KT4sqa9HPcGodqUllbaZeGzNd9GJr5KY1JmKjiqLZaASnhT9oYblLN3sTzOCXNSZ5ggUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAENZZ9QLMGs0ZOSqs7OhIjqslp5VlmRrVbDZSo4qiKBoTyWnZqyP2MSuKoihqyU9Zy9y0Zu7aKIqiLJMntDkRvTxm8KsH7cYTLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAsM6qF+DTKIuiLHPTcqOKomg2c6Nik4qiKGvRzyJqHcFh4TMwPh4b1ZhIjSrip2DGXrdF0fzrX4PTghdb2Zm8bpvZuyB7ChqN4LQieK1lr1tOB55gAQCECSwAgDCBBQAQJrAAAMIEFgBAmJ8ibLl33313bGzs8ssvnzxy8uTJI0eOTH2bM888s6ura9pXAwBawhOslrvnnnuefvrpqUeee+65JR+3efPmqtYDAOI8wWqVsbGx3bt3P/vss/39/XfffffUX6rX6+eff/7jjz8+eaSnp2faFwQAWkVgtUp/f/8dd9xRFEXtH/6WxXq9ftlll61du7aKvQCAlvMlwla58cYbh4aGhoaGent7P/FL+/btW758+Ysvvvjoo4/+7Gc/++CDDyrZEABoEU+wKlCv13ft2rV169bzzjuvXq/39PS88MILK1asmPo2J0+ePHny5NQjExPJf70EAGgdT7Cm24cffrhgwYJbb711eHh4z54977zzTqPR2LBhwyfe7Hvf+173x+3YsaOShQGAT0tgTbe5c+fu3bv3Bz/4QUdHR1EUvb299913329/+9uRkZGpb/btb3/7Lx93zTXXVLQyAPDpCKzqnfomraGhoaoXAQAyBNZ0GxgYWLJkyWuvvTZ55I033pg7d+6yZcsq3AoACBJY0+2aa67p7OzctGnTr3/969HR0f7+/oceeuiuu+469RVDAGAWEFjTbc6cOf39/WNjY6tXr+7q6lq3bt0tt9yyZcuWqvcCAGL8NQ0tV6/XP3Gkr6/vrbfeqtfro6OjF1100VlnnVXJYgBAiwisatRqteXLl1e9BQDQEr5ECAAQJrAAAMIEFgBAmMACAAgTWAAAYX6KsI01s9Ny48oyNqooilryb3Ato7s1x8eT05qN1KiOrq7UqKIoynM/G5zWPGtOcFp54qPgtObh5D94NTE6GpuVvNCKsjP5B0czeocmX4jC06Iva5wOPMECAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAjrrHoBKtSseoH/WVmWyWm15LRms5Gc1pgITuvo6kqNGr90WWpUURSHrzgzOO3Dc4PDirmHk9PO3RU7BUVRdL7xu9SoiePHU6OKoiiayc/Ms3do0cje78EXyRn6ekvreIIFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABDWWfUCfCplUZS5ac3cqKgy+D4W0Y9YUTQmgsPKWvIznPLcz6ZGHb7izNSooii61h4MTrvlc/8VnPaff7wsOO1wsSQ47XOHYie0/MtfUqOKoigajeS0jugfQ+FXjxkr+G62yUesAp5gAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCEdVa9AJxWms3ktLIMDmueNSc16sNzU5OKoihu+dx/Baf9v7PfC07L+uG5S4LTgic0e6WF7wKYpTzBAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCBBYAQFhn1QvAaaUsk9OazeCw8sRHqVFzD6cmFUVR/OcfL0uOi8rulv24BU9o9koL3wUwS3mCBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYLXcu+++u3v37n88vn///l/+8pd/+tOfpn8lAKClBFbL3XPPPU8//fTUIx999NH1119/4YUXrlu3rru7+/77769qNwCgFQRWq4yNje3YseOb3/xmf3//J37pgQceePnll3fs2HHixIlt27Y9+OCDzz//fCVLAgCtILBapb+//7rrrnv22WdrtY99kCcmJp566qmvf/3rK1eurNVq69evX7Vq1bZt26raEwCIE1itcuONNw4NDQ0NDfX29k49fuDAgYMHD65Zs2byyJo1a3bs2DHtCwIAreLfIpxuhw4dKopi8eLFk0e6u7uHh4fHx8c7O//7dPz+978/cODA1N947NixaVsSAPh3CKzpdvTo0aIo5s+fP3lk/vz5zWZzZGRk0aJFkwdfeumlT3zdcOHChdO2JADw7xBY0+1UJ42Ojk4eOXbsWFmWCxYsmPpm69evX79+/dQjW7ZsebO/Pj1LAgD/Dt+DNd26u7uLv3+h8JRDhw4tWrTojDPOqG4pACBJYE23np6e3t7egYGBySMDAwOrVq2qcCUAIEtgTbeyLDdu3PjDH/5w+/bt4+PjP/rRj1555ZVvfOMbVe8FAMT4HqwK3HvvvYODg6tXr+7o6KjVao899ti1115b9VIAQIzAarl6/ZPfmV6r1Z544onvfve7+/fvv/jii+fMmVPJYgBAiwisynR1dfX19VW9BQCQ53uwAADCBBYAQJjAAgAIE1gAAGECCwAgzE8Rnl6aRdGseofWa2bfx+i0WvJzkuZf/5qcdngoNercXV2pUUVRHC6WBKf98NzktLmHg8OKc3eNBacFT2iz0UiNKoqiDP+7XtE7NPzqMWMF3802+YhVwBMsAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAICwzqoXoEJldFozNqgZG1UURdFITitr0c9Jah3BYROjo6lRnW/8LjWqKIrPHfpscFrzrDnBaeWJj4LTmoeHgtOCJ7SMXmllmbwLmo1Gclr21SNphr7e0jqeYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhHVWvQDVKWfquGYzNqooisZEcFizTH7Uys6O4LRiPDZp4vjx2KyiKP/yl+C0InoKshdbs9EITitrscsje6U1Z/AdGn71CF5s2dfb6HtJi3iCBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgLDOqhfg02j+7X+zXJkc1mw0gtPKciI4rVnrCE4rO3O3czP6qVf0FITvgDJ5tZVnnJGcVsbOQrMZ/ag1ondB9vKIvnokZU9BcFob/JFSFU+wAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCOqtegFmjrHqBf6aZnDUxEZxWNqO71TpSo8pa9Gx2tM/rTPSENhqxWY3kdZtcLC/7QhSclrw2OC14ggUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgrH1+fHoGOXny5JEjR6YeOfPMM7u6uqraBwDI8gSrAs8999ySj9u8eXPVSwEAMZ5gVaBer59//vmPP/745JGenp4K9wEAsgRWBer1+mWXXbZ27dqqFwEAWkJgVWDfvn1XXnnliy+++O677y5btuzaa6+dN29e1UsBADECqwL1en3Xrl1bt24977zz6vV6T0/PCy+8sGLFiqlvs3Pnzp07d0498sc//nF61wQA/kW+yX26ffjhhwsWLLj11luHh4f37NnzzjvvNBqNDRs2fOLNjhw5Uv+4Dz74oJKFAYBPyxOs6TZ37ty9e/dO/mdvb+999923adOmkZGRs88+e/L4V7/61a9+9atTf+OWLVt+W7w+fYsCAP8qT7Cq19vbWxTF0NBQ1YsAABkCa7oNDAwsWbLktddemzzyxhtvzJ07d9myZRVuBQAECazpds0113R2dm7atOnXv/716Ohof3//Qw89dNddd3V0dFS9GgCQIbCm25w5c/r7+8fGxlavXt3V1bVu3bpbbrlly5YtVe8FAMT4JvcK9PX1vfXWW/V6fXR09KKLLjrrrLOq3ggASBJY1ajVasuXL696CwCgJXyJEAAgTGABAIQJLACAMIEFABAmsAAAwvwUYRtrNpPTyuCo4Ky45Aet2WgEpyVPaCN6Cmb0CY2K3lPN4LQZe7PHx2Uvthl7CjgdeIIFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABDWWfUCfBplUZS5ac3cqKIomtlxQcEPWVp2tdwpaM7cs8m/pJzBd0H2NsheujP2RpjJ55O/8wQLACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYZ1VL8CnVeYmNWOjiqIIDmtGF8t9wPLK7HLBadFTwL8oeLPHJhVF+g7NXmzh3XLCL0Qz+XWNv/EECwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAIE1gAAGECCwAgrLPqBfi0mrlRZW5UUZS5xYLvYlEUzew4/gXRK21GC1+7M3BSUbTTPZW8crN3QducgtOZJ1gAAGECCwAgTGABAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhAksAIAwgQUAECawAADCBBYAQJjAAgAI66x6Af6vBgcHR5p//l2xp+pFWq9Z9QKElVUvMG3a49ptj/eyTYw0/zw4OFj1FrOTwDptXH755UVRLF26tOpFZqHDhw8PDw+vWLGi6kXa1/Dw8MGDB7/whS9UvUj7Onr06IEDBy677LKqF2lfo6Oj+/btu+KKK6bz/3RwcPDUHy7Elc2mT0Zod88888zPf/7zZ555pupF2tfzzz+/bdu2559/vupF2tdLL7300EMPvfTSS1Uv0r527tx555137ty5s+pFyPA9WAAAYQILACBMYAEAhAksAICwji1btlS9A1SsLMvFixf7KcIKlWX52c9+1k8RVqgsy7PPPttPEVaoLMuurq5p/ilCWsdPEQIAhPkSIQBAmMACAAgTWAAAYQILACDMv0VIWzt58uSRI0emHjnzzDO7urqq2qetvPvuu2NjY//476Dt379/3759fX19ixcvrmSx9vGPp8AdMW0mJibefPPNP/zhD0uXLr3kkktqtY8973AXzAKeYNHWnnvuuSUft3nz5qqXahf33HPP008/PfXIRx99dP3111944YXr1q3r7u6+//77q9qtTfzjKXBHTI/33nvvS1/6Ul9f380333zppZeuXLlycHDw1C+5C2YNT7Boa/V6/fzzz3/88ccnj/T09FS4TzsYGxvbvXv3s88+29/ff/fdd0/9pQceeODll1/esWPHl7/85Z/85CcbNmz44he/eP3111e16mz1v5wCd8T0uP32248ePVqv1y+44IK9e/euXbv2a1/72m9+85vCXTCbNKGNrV+/fu3atVVv0V6effbZhQsXLly4sFar3X333ZPHx8fHlyxZ8q1vfWvyyOrVq6+77roqdpzl/tkpaLojpsXY2FitVnv88ccnjzz55JNFUQwNDbkLZhNfIqSt7du3b/ny5S+++OKjjz76s5/97IMPPqh6o9nvxhtvHBoaGhoa6u3tnXr8wIEDBw8eXLNmzeSRNWvW7NixY9oXnP3+2Sko3BHT4vjx47fddtvUS/3EiRNFUYyPj7sLZhNfIqSt1ev1Xbt2bd269bzzzqvX6z09PS+88IJ/M6cShw4dKopi6rf0dnd3Dw8Pj4+Pd3Z6pZom7ohpsHjx4ieeeGLyP99///1HHnnk6quvXrx48amWchfMDp5g0b4+/PDDBQsW3HrrrcPDw3v27HnnnXcajcaGDRuq3qtNHT16tCiK+fPnTx6ZP39+s9kcGRmpbqn24o6Yfj/96U+vvPLK8fHxUz9t4C6YTRQx7Wvu3Ll79+6d/M/e3t777rtv06ZNIyMjZ599doWLtaeFCxcWRTE6Ojp55NixY2VZLliwoLql2os7Yjrt379/w4YNr7766h133LFly5bPfOYzhbtgdvEEC/7bqW9JGRoaqnqRdtTd3V38/QuFpxw6dGjRokVnnHFGdUu1O3dEi7z++utXXHHFqaL93ve+d6quCnfB7CKwaF8DAwNLlix57bXXJo+88cYbc+fOXbZsWYVbta2enp7e3t6BgYHJIwMDA6tWrapwpXbjjpgejUbjhhtuWLNmzS9+8YtP/JyBu2A28SVC2tc111zT2dm5adOmhx9+uK+v7+WXX37ooYfuuuuujo6OqldrR2VZbty48Tvf+c66deuuuuqqJ5988pVXXpn6Jw2t5o6YHtu3b6/X69ddd93WrVunHr/pppvmzZvnLpg1BBbta86cOf39/TfddNPq1auLoqjVanfeeeeWLVuq3qt93XvvvYODg6tXr+7o6KjVao899ti1115b9VJtxB0xPd5+++2iKB5++OFPHF+7du28efPcBbNG2Ww2q94BqtRoNOr1+ujo6EUXXXTWWWdVvQ7F8ePH9+/ff/HFF8+ZM6fqXdqRO2ImcBfMAgILACDMN7kDAIQJLACAMIEFABAmsAAAwgQWAECYwAIACBNYAABhAgsAIExgAQCECSwAgDCBBQAQJrAAAMIEFgBAmMACAAgTWAAAYQILACBMYAEAhP1/lOjmgSgPdgIAAAAASUVORK5CYII=" /><h4 id="Faster-creation-of-an-ImagingSensor"><a class="docs-heading-anchor" href="#Faster-creation-of-an-ImagingSensor">Faster creation of an <code>ImagingSensor</code></a><a id="Faster-creation-of-an-ImagingSensor-1"></a><a class="docs-heading-anchor-permalink" href="#Faster-creation-of-an-ImagingSensor" title="Permalink"></a></h4><p>Some often used cameras are saved in <a href="#PhaseRetrieval.camerasdict"><code>camerasdict</code></a> dictionary</p><pre><code class="language-julia hljs">keys(camerasdict)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">KeySet for a Dict{Any, Any} with 6 entries. Keys:
  &quot;UI1540&quot;
  &quot;UI3860&quot;
  &quot;UI1490&quot;
  &quot;UI3260&quot;
  &quot;MC203MG&quot;
  &quot;UI2210&quot;</code></pre><p>So the imaging sensor can be created as </p><pre><code class="language-julia hljs">ims = ImagingSensor(cam = cam, lens = lensesdict[&quot;F300A25&quot;])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">ImagingSensor(PhaseRetrieval.ImagingLens(0.3, 0.025), PhaseRetrieval.CameraChip(5.2e-6, (1280, 1024), 8, 8), 0.3, [0.0, 0.0], 0.0, 0.0, 0.0)</code></pre><h4 id="SimConfig"><a class="docs-heading-anchor" href="#SimConfig"><code>SimConfig</code></a><a id="SimConfig-1"></a><a class="docs-heading-anchor-permalink" href="#SimConfig" title="Permalink"></a></h4><p><code>SimConfig</code> contains necessary information for simulations.</p><pre><code class="language-julia hljs">fieldnames(typeof(conf2))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(:name, :ims, :f, :λ, :d, :q, :roi, :dualroi, :ap, :mask)</code></pre><p>For instance, it contains the aperture mask.</p><pre><code class="language- hljs">using PhasePlots
showarray(conf2.ap)</code></pre><p>The dimensions of the mask correspond to the dimensions of the sampled image plane, but the overall size corresponds to the inverse of the pixel size. This information is contained in <code>dualroi</code> field and can be used to construct the Zernike basis.</p><pre><code class="language-julia hljs">conf2.dualroi</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SampledDomains.CartesianDomain2D(-0.01825961538461538:2.853064903846154e-5:0.018231084735576924, -0.018259615384615385:3.566331129807692e-5:0.01822395207331731)</code></pre><pre><code class="language- hljs">using PhaseBases
basis = ZernikeBW(conf2.dualroi, conf2.d, 10);
showphase(basis.elements[15] .* conf2.mask)
current_figure()</code></pre><p>Or the same picture without unnecssary information (by default all phases will be shown scaled to (-π. π])</p><pre><code class="language- hljs">showphasetight(basis.elements[15] .* conf2.mask)
current_figure()</code></pre><p>This is a combination of some low-order Zernike polynomials</p><pre><code class="language- hljs">phase = compose(basis, [4, 6, 15,16], [2, 1, 0.4, 0.3]*2π)
fig= Figure();
showphasetight(phase .* conf2.mask, fig)
fig</code></pre><p>For this aberrated phase the PSF is larger</p><pre><code class="language- hljs">p = psf(conf2.ap, phase)
showarray(p, :grays)</code></pre><p>More details are visible in the logarithmic scale</p><pre><code class="language- hljs">showarray(PhaseRetrieval.logrescale(p))</code></pre><h2 id="Types-and-Functions"><a class="docs-heading-anchor" href="#Types-and-Functions">Types and Functions</a><a id="Types-and-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Types-and-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.camerasdict" href="#PhaseRetrieval.camerasdict"><code>PhaseRetrieval.camerasdict</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">`camerasdict` is a dictionary with often used cameras.</code></pre><p>Use <code>keys(camerasdict)</code> to get the list of implemented cameras.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/hardware.jl#LL9-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.lensesdict" href="#PhaseRetrieval.lensesdict"><code>PhaseRetrieval.lensesdict</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">`lensesdict` is a dictionary with often used cameras.</code></pre><p>Use <code>keys(lensesdict)</code> to get the list of implemented cameras.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/hardware.jl#LL16-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.AbstractPRproblem" href="#PhaseRetrieval.AbstractPRproblem"><code>PhaseRetrieval.AbstractPRproblem</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Big class of general phase-retrieval-related problems.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/PRproblem.jl#LL1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.CameraChip" href="#PhaseRetrieval.CameraChip"><code>PhaseRetrieval.CameraChip</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>CameraChip(pixelsize = p, imagesize = (sizex, sizey), bitdepth = 8, channelbitdepth = 8</code> repesent a camera chip with a given pixel size, imagesize, and bitdepth. If omitted,  bitdepth is set to 8.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/types.jl#LL21-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.GS" href="#PhaseRetrieval.GS"><code>PhaseRetrieval.GS</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Gerchberg-Saxton, classical method to solve PR problem</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/PRproblem.jl#LL22-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.GSparam" href="#PhaseRetrieval.GSparam"><code>PhaseRetrieval.GSparam</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">GSparam(; ϕ⁰, maxit, maxϵ, keephistory, snapshots)</code></pre><p>Parameters for a concrete realisation of GS method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/PRproblem.jl#LL27-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.ImagingLens" href="#PhaseRetrieval.ImagingLens"><code>PhaseRetrieval.ImagingLens</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Fixed focal length lens</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/types.jl#LL42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.ImagingSensor" href="#PhaseRetrieval.ImagingSensor"><code>PhaseRetrieval.ImagingSensor</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Imaging sensor or camera consists of a lens and camera chip.</p><p>Create a sensor using keyword syntaxis (in any order), <code>lens</code> and <code>cam</code> are required</p><pre><code class="nohighlight hljs">ims = ImagingSensor(lens = ::ImagingLens, cam = ::CameraChip)</code></pre><p>Other possible keywords to simulate misalingnment</p><pre><code class="nohighlight hljs">    focal_distance (= lens.focallength  by default)
    lensorigin = [0.,0.] # aka nodal point, but expressed in length units
    # misalingment parameters (not realised yet, set to zero)
    α = 0.
    β = 0.
    γ = 0.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/types.jl#LL48-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.Linear" href="#PhaseRetrieval.Linear"><code>PhaseRetrieval.Linear</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Build SH diversity using the linear functions</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/ShackHartmann/SHphase.jl#LL7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.MLA" href="#PhaseRetrieval.MLA"><code>PhaseRetrieval.MLA</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Micro-lens array structure. 

The main reason to introduce it separable is to handle the case when camera chip is located not exactly
in the MLA focal plane.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/ShackHartmann/SHphase.jl#LL190-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.PDplan" href="#PhaseRetrieval.PDplan"><code>PhaseRetrieval.PDplan</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PDplan(plan, diversity)</code></pre><p>Construct <code>P</code>upil <code>D</code>iversity plan, which, if multiplied by the array <code>a</code> of proper dimensions, computes <span>$fft( diversity *a)$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/types.jl#LL5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.PRproblem" href="#PhaseRetrieval.PRproblem"><code>PhaseRetrieval.PRproblem</code></a> — <span class="docstring-category">Type</span></header><section><div><p>PRproblem(a, A)</p><p>Classical phase-retrieval problem of finding complex arrays x, X such that    |x| = a, |X| = A, and X =F(x),  where F denotes the Fourier transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/PRproblem.jl#LL6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.Quadratic" href="#PhaseRetrieval.Quadratic"><code>PhaseRetrieval.Quadratic</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Build SH diversity using the quadratic functions</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/ShackHartmann/SHphase.jl#LL6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.SHSensor" href="#PhaseRetrieval.SHSensor"><code>PhaseRetrieval.SHSensor</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Shack-Hartmann sensor composed from MLA and a camera. 

MLA plane position is defined by distance,  β,  and γ. 
MLA subapertures position is defined by mlaorigin and α.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/ShackHartmann/SHphase.jl#LL202-L207">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.hwConfig-Tuple{String, Any, Any, Any}" href="#PhaseRetrieval.hwConfig-Tuple{String, Any, Any, Any}"><code>PhaseRetrieval.hwConfig</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">hwConfig(s::String, f, λ, d) creates a hardware configuration with
`s` camera, lens with a focal length `f` and aperture `d` and using wavelenght
`λ`.</code></pre><p><strong>Example</strong></p><pre><code class="nohighlight hljs">conf1 = hwConfig(&quot;UI1540&quot;, 300mm, 633nm,25mm) creates a configuration
based on UI-1540 camera, with a 1 inch lens with focal length 300mm and He-Ne laser.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/types.jl#LL90-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AlternatingProjections.AbstractProblems.solve-Tuple{PRproblem, GSparam, Vararg{Any, 5}}" href="#AlternatingProjections.AbstractProblems.solve-Tuple{PRproblem, GSparam, Vararg{Any, 5}}"><code>AlternatingProjections.AbstractProblems.solve</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">solve(pr::PRproblem, alg::GS, args...)</code></pre><p>Solve PR problem using GS method. Any change of the GS parameters can be given </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/PRproblem.jl#LL47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.SHdiversity" href="#PhaseRetrieval.SHdiversity"><code>PhaseRetrieval.SHdiversity</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">SHdiversity(size, cellsize, celloffset=0, α=0)</code></pre><p>Generate SH diversity phase of given overall <code>size</code>, <code>cellsize</code>, central cell <code>offset</code> and rotation angle <code>α</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/ShackHartmann/SHphase.jl#LL11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.SHdiversity-Tuple{AbstractRange, AbstractRange, Any, Any, Any}" href="#PhaseRetrieval.SHdiversity-Tuple{AbstractRange, AbstractRange, Any, Any, Any}"><code>PhaseRetrieval.SHdiversity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">SHdiversity(xrange, yrange, e₁, e₂, o)</code></pre><p>Generate SH diversity phase on array <code>xrange × yrange</code> with cell based on orthogonal grid formed by vectors  <code>e₁, e₂,</code> and origin at <code>o</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/ShackHartmann/SHphase.jl#LL71-L76">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.appsftoPR-Tuple{Any, Any}" href="#PhaseRetrieval.appsftoPR-Tuple{Any, Any}"><code>PhaseRetrieval.appsftoPR</code></a> — <span class="docstring-category">Method</span></header><section><div><p>appsftoPR(ap,psfimage) constructs a phase retrieval problem from two real arrays, representing the pupil and the focal planes intensity distributions. </p><p>The aperture and PSF are assumed to be centred in the array.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">
ap,_ = PhaseRetrieval.aperture(-1:.2:1,-1:.2:1,.8);
psfimage = psf(ap);

pr = appsftoPR(ap,psfimage)

# output
PRproblem{Float64, 2}([1.0 0.0 … 1.0 1.0; 0.0 0.0 … 0.0 1.0; … ; 1.0 0.0 … 1.0 1.0; 1.0 1.0 … 1.0 1.0], [8.857504209336042 4.432323038895129 … 8.857504209336042 10.878351222990858; 4.432323038895129 0.7324956483358351 … 4.432323038895129 6.182768610120748; … ; 8.857504209336042 4.432323038895129 … 8.857504209336042 10.878351222990858; 10.878351222990858 6.182768610120747 … 10.878351222990858 12.999999999999998])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL215-L234">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.binning-Tuple{Any, Integer}" href="#PhaseRetrieval.binning-Tuple{Any, Integer}"><code>PhaseRetrieval.binning</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">binning(arr, Q)</code></pre><p>Downsample  <code>arr</code>ay by replacing quadratic cells of size <code>Q × Q</code> by summ of its elements</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL179-L183">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.centre-NTuple{5, Any}" href="#PhaseRetrieval.centre-NTuple{5, Any}"><code>PhaseRetrieval.centre</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Give centre of an orthogonal grid cell of the grid with cellsize, 
centre at grid origin and rotated at angle α counterclockwise.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/ShackHartmann/SHphase.jl#LL162-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.constructSHPhaseDiversity-Tuple{PhaseRetrieval.SHSensor, Any, Any}" href="#PhaseRetrieval.constructSHPhaseDiversity-Tuple{PhaseRetrieval.SHSensor, Any, Any}"><code>PhaseRetrieval.constructSHPhaseDiversity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">constructSHPhaseDiversity(wfs::SHSensor, d, λ )</code></pre><p>Construct SH phase diversity of minimal size for <code>wfs</code> within aperture of diameter <code>d</code> and wavelength <code>λ</code>. Return tuple of arrays for the aperture and phase.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/ShackHartmann/SHphase.jl#LL241-L246">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.diskmatrix" href="#PhaseRetrieval.diskmatrix"><code>PhaseRetrieval.diskmatrix</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Create array of zeroes with disk of ones of the relative diameter r</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL103-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.lineararray" href="#PhaseRetrieval.lineararray"><code>PhaseRetrieval.lineararray</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">lineararray(xrange, yrange, kx, ky, k0=0)</code></pre><p>Evaluate values of linear function <span>$kx⋅x + ky⋅y + k0$</span>  on array  <span>$xrange × yrange$</span>.</p><pre><code class="nohighlight hljs">lineararray(size, kx, ky, k0=0)</code></pre><p>Use <code>1:size</code> as <code>xrange</code> and <code>yrange</code>.</p><pre><code class="nohighlight hljs">lineararray(xrange, yrange, a::Vector, k0=0)</code></pre><p>Use first and second components of vector <code>a</code> as <code>kx</code> and <code>ky</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL2-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.logrescale" href="#PhaseRetrieval.logrescale"><code>PhaseRetrieval.logrescale</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">logrescale(array, α = 5)</code></pre><p>Rescale in log-scale: maximum will correspond to 1, <span>$10^{-α}$</span> will correspond to 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL71-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.orthIndexes" href="#PhaseRetrieval.orthIndexes"><code>PhaseRetrieval.orthIndexes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Generate array of indexes of an orthogonal geometry</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/ShackHartmann/SHphase.jl#LL131-L133">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.phwrap-Tuple{AbstractFloat}" href="#PhaseRetrieval.phwrap-Tuple{AbstractFloat}"><code>PhaseRetrieval.phwrap</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Wrap Phase</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.psf-Tuple{AbstractArray}" href="#PhaseRetrieval.psf-Tuple{AbstractArray}"><code>PhaseRetrieval.psf</code></a> — <span class="docstring-category">Method</span></header><section><div><p>psf(amplitude, phase) -&gt; psfimage psf(pupilfield) -&gt; psfimage</p><p>Calculate psf for given amplitude and phase.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">
ap,_ = PhaseRetrieval.aperture(-1:.2:1,-1:.2:1,.8);

psfimage = psf(ap)

psfimage[1]

# output

17.720305330423212
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/PSF.jl#LL7-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.quadratic-Tuple{Tuple}" href="#PhaseRetrieval.quadratic-Tuple{Tuple}"><code>PhaseRetrieval.quadratic</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Generate quadratic array</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL93-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.rescale-Tuple{Any}" href="#PhaseRetrieval.rescale-Tuple{Any}"><code>PhaseRetrieval.rescale</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rescale(array)</code></pre><p>Rescale array between 0 and 1</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.rescale_minmax-Tuple{Any}" href="#PhaseRetrieval.rescale_minmax-Tuple{Any}"><code>PhaseRetrieval.rescale_minmax</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rescale_minmax(array)</code></pre><p>Rescale array between 0 and 1 and return the rescaled array and the min, max values</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL58-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.slopearray" href="#PhaseRetrieval.slopearray"><code>PhaseRetrieval.slopearray</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">slopearray(dom::CartesianDomain2D, dx, dy, k0=0) generates linear array defined on the domain such that
the total growth in x and y direction is dx and dy.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL28-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.subdivide-Tuple{Any, Any}" href="#PhaseRetrieval.subdivide-Tuple{Any, Any}"><code>PhaseRetrieval.subdivide</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">subdivide(arr, Q)</code></pre><p>Subdivide array of dimension MQ x NQ in Q^2 stacked tiles of size M x N.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL191-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.subdivide_sum-Tuple{Any, Any}" href="#PhaseRetrieval.subdivide_sum-Tuple{Any, Any}"><code>PhaseRetrieval.subdivide_sum</code></a> — <span class="docstring-category">Method</span></header><section><div><p>subdivide_sum(arr,Q)</p><p>Divide <code>arr</code>ay in quadratic cells of size <code>Q × Q</code>  and sum the elements with the same indexes in each cell.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL136-L140">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhaseRetrieval.tile-Tuple{Any, Integer}" href="#PhaseRetrieval.tile-Tuple{Any, Integer}"><code>PhaseRetrieval.tile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tile(arr, Q)</code></pre><p>Divide <code>arr</code>ay in quadratic cells of size <code>Q × Q</code> and stack them along the third dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/olejorik/PhaseRetrieval.jl/blob/660b5e8c6804bc3de359117abfe8fd1c690c1e4f/src/utils.jl#LL158-L162">source</a></section></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#PhaseRetrieval.camerasdict"><code>PhaseRetrieval.camerasdict</code></a></li><li><a href="#PhaseRetrieval.lensesdict"><code>PhaseRetrieval.lensesdict</code></a></li><li><a href="#PhaseRetrieval.AbstractPRproblem"><code>PhaseRetrieval.AbstractPRproblem</code></a></li><li><a href="#PhaseRetrieval.CameraChip"><code>PhaseRetrieval.CameraChip</code></a></li><li><a href="#PhaseRetrieval.GS"><code>PhaseRetrieval.GS</code></a></li><li><a href="#PhaseRetrieval.GSparam"><code>PhaseRetrieval.GSparam</code></a></li><li><a href="#PhaseRetrieval.ImagingLens"><code>PhaseRetrieval.ImagingLens</code></a></li><li><a href="#PhaseRetrieval.ImagingSensor"><code>PhaseRetrieval.ImagingSensor</code></a></li><li><a href="#PhaseRetrieval.Linear"><code>PhaseRetrieval.Linear</code></a></li><li><a href="#PhaseRetrieval.MLA"><code>PhaseRetrieval.MLA</code></a></li><li><a href="#PhaseRetrieval.PDplan"><code>PhaseRetrieval.PDplan</code></a></li><li><a href="#PhaseRetrieval.PRproblem"><code>PhaseRetrieval.PRproblem</code></a></li><li><a href="#PhaseRetrieval.Quadratic"><code>PhaseRetrieval.Quadratic</code></a></li><li><a href="#PhaseRetrieval.SHSensor"><code>PhaseRetrieval.SHSensor</code></a></li><li><a href="#PhaseRetrieval.hwConfig-Tuple{String, Any, Any, Any}"><code>PhaseRetrieval.hwConfig</code></a></li><li><a href="#AlternatingProjections.AbstractProblems.solve-Tuple{PRproblem, GSparam, Vararg{Any, 5}}"><code>AlternatingProjections.AbstractProblems.solve</code></a></li><li><a href="#PhaseRetrieval.SHdiversity-Tuple{AbstractRange, AbstractRange, Any, Any, Any}"><code>PhaseRetrieval.SHdiversity</code></a></li><li><a href="#PhaseRetrieval.SHdiversity"><code>PhaseRetrieval.SHdiversity</code></a></li><li><a href="#PhaseRetrieval.appsftoPR-Tuple{Any, Any}"><code>PhaseRetrieval.appsftoPR</code></a></li><li><a href="#PhaseRetrieval.binning-Tuple{Any, Integer}"><code>PhaseRetrieval.binning</code></a></li><li><a href="#PhaseRetrieval.centre-NTuple{5, Any}"><code>PhaseRetrieval.centre</code></a></li><li><a href="#PhaseRetrieval.constructSHPhaseDiversity-Tuple{PhaseRetrieval.SHSensor, Any, Any}"><code>PhaseRetrieval.constructSHPhaseDiversity</code></a></li><li><a href="#PhaseRetrieval.diskmatrix"><code>PhaseRetrieval.diskmatrix</code></a></li><li><a href="#PhaseRetrieval.lineararray"><code>PhaseRetrieval.lineararray</code></a></li><li><a href="#PhaseRetrieval.logrescale"><code>PhaseRetrieval.logrescale</code></a></li><li><a href="#PhaseRetrieval.orthIndexes"><code>PhaseRetrieval.orthIndexes</code></a></li><li><a href="#PhaseRetrieval.phwrap-Tuple{AbstractFloat}"><code>PhaseRetrieval.phwrap</code></a></li><li><a href="#PhaseRetrieval.psf-Tuple{AbstractArray}"><code>PhaseRetrieval.psf</code></a></li><li><a href="#PhaseRetrieval.quadratic-Tuple{Tuple}"><code>PhaseRetrieval.quadratic</code></a></li><li><a href="#PhaseRetrieval.rescale-Tuple{Any}"><code>PhaseRetrieval.rescale</code></a></li><li><a href="#PhaseRetrieval.rescale_minmax-Tuple{Any}"><code>PhaseRetrieval.rescale_minmax</code></a></li><li><a href="#PhaseRetrieval.slopearray"><code>PhaseRetrieval.slopearray</code></a></li><li><a href="#PhaseRetrieval.subdivide-Tuple{Any, Any}"><code>PhaseRetrieval.subdivide</code></a></li><li><a href="#PhaseRetrieval.subdivide_sum-Tuple{Any, Any}"><code>PhaseRetrieval.subdivide_sum</code></a></li><li><a href="#PhaseRetrieval.tile-Tuple{Any, Integer}"><code>PhaseRetrieval.tile</code></a></li></ul></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 26 June 2023 16:30">Monday 26 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
